<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>My Estate Plan</title>

<style>
body{
  margin:0;
  font-family:"Times New Roman", Georgia, serif;
  background:#0a0e1a;
  position:relative;
  overflow-x:hidden;
  min-height:100vh;
}

/* Animated gradient base */
body::before{
  content:'';
  position:fixed;
  top:0;
  left:0;
  right:0;
  bottom:0;
  background:
    linear-gradient(135deg, #0f1419 0%, #1a1f2e 25%, #0f1824 50%, #1e2433 75%, #0a0e1a 100%);
  animation:gradientShift 15s ease infinite;
  z-index:-3;
}

/* Subtle grid pattern */
body::after{
  content:'';
  position:fixed;
  top:0;
  left:0;
  right:0;
  bottom:0;
  background-image:
    linear-gradient(rgba(59, 130, 246, 0.03) 1px, transparent 1px),
    linear-gradient(90deg, rgba(59, 130, 246, 0.03) 1px, transparent 1px);
  background-size: 50px 50px;
  z-index:-2;
}

/* Floating orbs */
.bg-orb{
  position:fixed;
  border-radius:50%;
  filter:blur(80px);
  opacity:0.15;
  z-index:-1;
  animation:float 20s ease-in-out infinite;
}
.bg-orb:nth-child(1){
  width:400px;
  height:400px;
  background:radial-gradient(circle, #3b82f6, transparent);
  top:10%;
  left:15%;
  animation-delay:0s;
}
.bg-orb:nth-child(2){
  width:350px;
  height:350px;
  background:radial-gradient(circle, #6366f1, transparent);
  bottom:15%;
  right:20%;
  animation-delay:-7s;
}
.bg-orb:nth-child(3){
  width:300px;
  height:300px;
  background:radial-gradient(circle, #8b5cf6, transparent);
  top:50%;
  right:10%;
  animation-delay:-14s;
}

/* Background text watermarks */
.bg-text{
  position:fixed;
  font-size:120px;
  font-weight:700;
  color:rgba(59, 130, 246, 0.08);
  z-index:-1;
  pointer-events:none;
  user-select:none;
  font-family:"Times New Roman", Georgia, serif;
  letter-spacing:-2px;
  line-height:1.2;
}
.bg-text.large{
  font-size:180px;
  opacity:1;
  color:rgba(59, 130, 246, 0.06);
}
.bg-text:nth-child(4){
  top:15%;
  left:5%;
  transform:rotate(-15deg);
}
.bg-text:nth-child(5){
  bottom:20%;
  right:5%;
  transform:rotate(12deg);
}
.bg-text:nth-child(6){
  top:45%;
  left:50%;
  transform:translate(-50%, -50%) rotate(-8deg);
  font-size:200px;
}
.bg-text:nth-child(7){
  top:5%;
  right:10%;
  font-size:90px;
  color:rgba(99, 102, 241, 0.09);
  transform:rotate(18deg);
}
.bg-text:nth-child(8){
  bottom:10%;
  left:15%;
  font-size:85px;
  color:rgba(139, 92, 246, 0.08);
  transform:rotate(-12deg);
}

@keyframes gradientShift{
  0%, 100%{opacity:1}
  50%{opacity:0.8}
}

@keyframes float{
  0%, 100%{transform:translate(0, 0) scale(1)}
  33%{transform:translate(30px, -30px) scale(1.1)}
  66%{transform:translate(-20px, 20px) scale(0.9)}
}

.container{
  max-width:1200px;
  margin:40px auto;
  padding:40px;
  background:rgba(255,255,255,0.97);
  backdrop-filter:blur(10px);
  border-radius:12px;
  box-shadow:
    0 4px 6px rgba(0,0,0,0.1),
    0 10px 25px rgba(0,0,0,0.2),
    0 20px 40px rgba(0,0,0,0.15),
    inset 0 1px 0 rgba(255,255,255,0.9);
  position:relative;
  border:1px solid rgba(226, 232, 240, 0.5);
}
.container::before{
  display:none;
}

h1{
  text-align:center;
  margin:0;
  color:#1e293b;
  font-size:2.5em;
  font-weight:600;
}
.subtitle{
  text-align:center;
  color:#64748b;
  margin-bottom:20px;
  font-size:0.95em;
}

.topbar,.toolbar{
  display:grid;
  gap:10px;
  margin-bottom:15px;
}
.topbar{grid-template-columns:2fr 1fr 1fr}
.toolbar{grid-template-columns:repeat(auto-fit,minmax(120px,1fr))}

select,input,textarea,button{
  padding:12px;
  border-radius:6px;
  border:1px solid #e2e8f0;
  width:100%;
  box-sizing:border-box;
  font-family:inherit;
  font-size:14px;
  transition:all 0.2s ease;
}
select:focus,input:focus,textarea:focus{
  outline:none;
  border-color:#3b82f6;
  box-shadow:0 0 0 3px rgba(59, 130, 246, 0.1);
}
button{
  cursor:pointer;
  background:#f8fafc;
  color:#334155;
  font-weight:500;
  border:1px solid #e2e8f0;
}
button:hover{
  background:#f1f5f9;
  border-color:#cbd5e1;
}

.notice{
  background:#eff6ff;
  padding:12px 16px;
  border-radius:6px;
  font-size:14px;
  color:#1e40af;
  border-left:3px solid #3b82f6;
}

section{
  border:1px solid #e2e8f0;
  border-radius:8px;
  margin-top:20px;
  overflow:hidden;
  background:#ffffff;
}
.section-header{
  padding:16px;
  background:#f8fafc;
  font-weight:600;
  cursor:pointer;
  color:#1e293b;
  border-bottom:1px solid #e2e8f0;
  transition:background 0.2s ease;
}
.section-header:hover{
  background:#f1f5f9;
}
.section-content{
  padding:16px;
  display:none;
  background:#ffffff;
}
section.open .section-content{display:block}

.repeat{
  border:1px solid #e2e8f0;
  padding:16px;
  border-radius:6px;
  margin-bottom:12px;
  background:#f8fafc;
}
.repeat>*{margin-top:10px}
.repeat>*:first-child{margin-top:0}

textarea{min-height:140px}
.large{min-height:260px}
</style>
</head>

<body>

<div class="bg-orb"></div>
<div class="bg-orb"></div>
<div class="bg-orb"></div>

<div class="bg-text">LEGACY</div>
<div class="bg-text">PLANNING</div>
<div class="bg-text large">ESTATE</div>
<div class="bg-text">SECURE</div>
<div class="bg-text">FUTURE</div>

<div class="container">

<h1 data-t="title"></h1>
<div class="subtitle" data-t="subtitle"></div>

<div class="topbar">
  <select id="country">
    <option>Canada</option>
    <option>United States</option>
    <option>France</option>
    <option>Germany</option>
    <option>Spain</option>
    <option>Japan</option>
    <option>China</option>
    <option>South Korea</option>
    <option>India</option>
  </select>

  <select id="language">
    <option value="en">EN</option>
    <option value="fr">FR</option>
    <option value="de">DE</option>
    <option value="es">ES</option>
    <option value="ja">JA</option>
    <option value="zh">ä¸­æ–‡</option>
    <option value="ko">KO</option>
    <option value="hi">HI</option>
  </select>

  <input value="Version 1.0" disabled />
</div>

<div class="toolbar">
  <button onclick="openAll()">Open All</button>
  <button onclick="closeAll()">Close All</button>
  <button onclick="window.print()">Print / Save PDF</button>
</div>

<div class="notice" data-t="notice"></div>

<div class="toolbar">
  <button onclick="exportData()" data-t="exportBtn"></button>
  <button onclick="document.getElementById('fileInput').click()" data-t="importBtn"></button>
  <button onclick="clearData()" data-t="clearBtn"></button>
</div>
<input type="file" id="fileInput" accept=".json" style="display:none" onchange="handleImport(event)">

<section class="open">
  <div class="section-header" data-t="personal" onclick="toggle(this)"></div>
  <div class="section-content">
    <input data-ph="name">
    <input data-ph="dob">
    <input data-ph="address">
    <input data-ph="phone">
    <input data-ph="email">
  </div>
</section>

<section>
  <div class="section-header" data-t="executors" onclick="toggle(this)"></div>
  <div class="section-content" id="exec">
    <div class="repeat">
      <input data-ph="executorName">
      <input data-ph="executorRel">
      <textarea data-ph="executorNotes"></textarea>
    </div>
    <button data-t="addExecutor" onclick="addRow('exec')"></button>
  </div>
</section>

<section>
  <div class="section-header" data-t="children" onclick="toggle(this)"></div>
  <div class="section-content" id="kids">
    <div class="repeat">
      <input data-ph="childName">
      <textarea data-ph="notes"></textarea>
    </div>
    <button data-t="addChild" onclick="addRow('kids')"></button>
  </div>
</section>

<section>
  <div class="section-header" data-t="assets" onclick="toggle(this)"></div>
  <div class="section-content" id="assets">
    <div class="repeat">
      <input data-ph="assetDesc">
      <input data-ph="assetValue">
      <textarea data-ph="assetNotes"></textarea>
    </div>
    <button data-t="addAsset" onclick="addRow('assets')"></button>
  </div>
</section>

<section>
  <div class="section-header" data-t="funeral" onclick="toggle(this)"></div>
  <div class="section-content">
    <textarea class="large" data-ph="funeralNotes"></textarea>
  </div>
</section>

<section>
  <div class="section-header" data-t="beneficiaries" onclick="toggle(this)"></div>
  <div class="section-content" id="beneficiaries">
    <div class="repeat">
      <input data-ph="beneficiaryName">
      <input data-ph="beneficiaryRel">
      <textarea data-ph="beneficiaryDetails"></textarea>
    </div>
    <button data-t="addBeneficiary" onclick="addRow('beneficiaries')"></button>
  </div>
</section>

<section>
  <div class="section-header" data-t="digital" onclick="toggle(this)"></div>
  <div class="section-content" id="digital">
    <div class="repeat">
      <input data-ph="digitalType">
      <input data-ph="digitalAccount">
      <textarea data-ph="digitalAccess"></textarea>
    </div>
    <button data-t="addDigital" onclick="addRow('digital')"></button>
  </div>
</section>

<section>
  <div class="section-header" data-t="insurance" onclick="toggle(this)"></div>
  <div class="section-content" id="insurance">
    <div class="repeat">
      <input data-ph="insuranceType">
      <input data-ph="insuranceCompany">
      <input data-ph="insurancePolicy">
      <textarea data-ph="insuranceNotes"></textarea>
    </div>
    <button data-t="addInsurance" onclick="addRow('insurance')"></button>
  </div>
</section>

<section>
  <div class="section-header" data-t="debts" onclick="toggle(this)"></div>
  <div class="section-content" id="debts">
    <div class="repeat">
      <input data-ph="debtType">
      <input data-ph="debtAmount">
      <textarea data-ph="debtDetails"></textarea>
    </div>
    <button data-t="addDebt" onclick="addRow('debts')"></button>
  </div>
</section>

<section>
  <div class="section-header" data-t="healthcare" onclick="toggle(this)"></div>
  <div class="section-content">
    <textarea class="large" data-ph="healthcareDirectives"></textarea>
  </div>
</section>

<section>
  <div class="section-header" data-t="professionals" onclick="toggle(this)"></div>
  <div class="section-content" id="professionals">
    <div class="repeat">
      <input data-ph="professionalType">
      <input data-ph="professionalName">
      <textarea data-ph="professionalContact"></textarea>
    </div>
    <button data-t="addProfessional" onclick="addRow('professionals')"></button>
  </div>
</section>

<section>
  <div class="section-header" data-t="business" onclick="toggle(this)"></div>
  <div class="section-content">
    <textarea class="large" data-ph="businessInterests"></textarea>
  </div>
</section>

<section>
  <div class="section-header" data-t="pets" onclick="toggle(this)"></div>
  <div class="section-content" id="pets">
    <div class="repeat">
      <input data-ph="petName">
      <input data-ph="petType">
      <textarea data-ph="petCare"></textarea>
    </div>
    <button data-t="addPet" onclick="addRow('pets')"></button>
  </div>
</section>

<section>
  <div class="section-header" data-t="charitable" onclick="toggle(this)"></div>
  <div class="section-content" id="charitable">
    <div class="repeat">
      <input data-ph="charityName">
      <input data-ph="charityAmount">
      <textarea data-ph="charityNotes"></textarea>
    </div>
    <button data-t="addCharity" onclick="addRow('charitable')"></button>
  </div>
</section>

<section>
  <div class="section-header" data-t="messages" onclick="toggle(this)"></div>
  <div class="section-content">
    <textarea class="large" data-ph="personalMessages"></textarea>
  </div>
</section>

<section>
  <div class="section-header" data-t="additionalNotes" onclick="toggle(this)"></div>
  <div class="section-content">
    <textarea class="large" data-ph="additionalNotes"></textarea>
  </div>
</section>

</div>

<script>
/* ---------- TRANSLATIONS ---------- */
const T = {
en:{
title:"My Estate Plan",
subtitle:"Personal estate planning record Â· Not a legal document",
notice:"Fill in your information below. Use Export to save a backup file.",
personal:"Personal Information",
executors:"Executors",
children:"Children / Dependents",
assets:"Assets & Property",
beneficiaries:"Beneficiaries & Inheritances",
digital:"Digital Assets & Accounts",
insurance:"Insurance Policies",
debts:"Debts & Liabilities",
healthcare:"Healthcare Directives",
professionals:"Professional Contacts",
business:"Business Interests",
pets:"Pet Care Instructions",
charitable:"Charitable Giving",
messages:"Personal Messages & Legacy",
funeral:"Funeral Wishes",
additionalNotes:"Additional Notes",
addExecutor:"âž• Add Another Executor",
addChild:"âž• Add Another Child",
addAsset:"âž• Add Another Asset",
addBeneficiary:"âž• Add Another Beneficiary",
addDigital:"âž• Add Another Account",
addInsurance:"âž• Add Another Policy",
addDebt:"âž• Add Another Debt",
addProfessional:"âž• Add Another Contact",
addPet:"âž• Add Another Pet",
addCharity:"âž• Add Another Charity",
exportBtn:"ðŸ“¥ Export JSON",
importBtn:"ðŸ“¤ Import JSON",
clearBtn:"ðŸ—‘ï¸ Clear All",
name:"Full legal name",
dob:"Date of birth (e.g., Jan 15, 1980)",
address:"Full residential address",
phone:"Phone number",
email:"Email address",
executorName:"Executor full name",
executorRel:"Relationship & contact info",
executorNotes:"Specific instructions or duties",
childName:"Child's full name & date of birth",
notes:"Guardian preferences, special needs, etc.",
assetDesc:"Asset description (property, accounts, investments)",
assetValue:"Estimated value (e.g., $250,000)",
assetNotes:"Beneficiary instructions, account numbers, location",
beneficiaryName:"Beneficiary full name",
beneficiaryRel:"Relationship to you",
beneficiaryDetails:"What they inherit (specific items, percentages, conditions)",
digitalType:"Type (Email, Social Media, Crypto, Cloud Storage, etc.)",
digitalAccount:"Account name or username",
digitalAccess:"Access instructions, passwords location, 2FA info",
insuranceType:"Type (Life, Health, Property, Vehicle, etc.)",
insuranceCompany:"Insurance company name",
insurancePolicy:"Policy number & beneficiaries",
insuranceNotes:"Coverage details, contact info, premium amount",
debtType:"Type (Mortgage, Car Loan, Credit Card, Personal Loan, etc.)",
debtAmount:"Outstanding amount",
debtDetails:"Creditor name, account number, payment instructions",
healthcareDirectives:"Living will, DNR wishes, organ donation, healthcare power of attorney, medical preferences, preferred hospitals",
professionalType:"Type (Attorney, Accountant, Financial Advisor, Doctor, etc.)",
professionalName:"Name & firm",
professionalContact:"Phone, email, address, account numbers",
businessInterests:"Business ownership details, partnership agreements, succession plans, buy-sell agreements, business contacts",
petName:"Pet name",
petType:"Type & breed",
petCare:"Vet info, preferred caregiver, care instructions, funds allocated",
charityName:"Charity or organization name",
charityAmount:"Amount or percentage to donate",
charityNotes:"Purpose, contact info, memorial gift preferences",
personalMessages:"Letters to loved ones, ethical will, values and life lessons, family history to preserve",
funeralNotes:"Burial vs cremation, service preferences, memorial wishes, organ donation",
additionalNotes:"Any other important information, safe combinations, hidden valuables"
},
fr:{
title:"Mon Plan Successoral",
subtitle:"Document personnel de planification successorale Â· Non juridique",
notice:"Remplissez vos informations. Utilisez Exporter pour sauvegarder.",
personal:"Informations Personnelles",
executors:"ExÃ©cuteurs Testamentaires",
children:"Enfants / Personnes Ã  Charge",
assets:"Biens et PropriÃ©tÃ©s",
beneficiaries:"BÃ©nÃ©ficiaires et HÃ©ritages",
digital:"Actifs et Comptes NumÃ©riques",
insurance:"Polices d'Assurance",
debts:"Dettes et Passifs",
healthcare:"Directives de SantÃ©",
professionals:"Contacts Professionnels",
business:"IntÃ©rÃªts Commerciaux",
pets:"Instructions pour Animaux",
charitable:"Dons Caritatifs",
messages:"Messages Personnels et HÃ©ritage",
funeral:"VolontÃ©s FunÃ©raires",
additionalNotes:"Notes SupplÃ©mentaires",
addExecutor:"âž• Ajouter un ExÃ©cuteur",
addChild:"âž• Ajouter un Enfant",
addAsset:"âž• Ajouter un Bien",
addBeneficiary:"âž• Ajouter un BÃ©nÃ©ficiaire",
addDigital:"âž• Ajouter un Compte",
addInsurance:"âž• Ajouter une Police",
addDebt:"âž• Ajouter une Dette",
addProfessional:"âž• Ajouter un Contact",
addPet:"âž• Ajouter un Animal",
addCharity:"âž• Ajouter un Organisme",
exportBtn:"ðŸ“¥ Exporter JSON",
importBtn:"ðŸ“¤ Importer JSON",
clearBtn:"ðŸ—‘ï¸ Tout Effacer",
name:"Nom lÃ©gal complet",
dob:"Date de naissance",
address:"Adresse complÃ¨te",
phone:"TÃ©lÃ©phone",
email:"Courriel",
executorName:"Nom de l'exÃ©cuteur",
executorRel:"Relation et contact",
executorNotes:"Instructions spÃ©cifiques",
childName:"Nom complet et date de naissance",
notes:"Tuteur prÃ©fÃ©rÃ©, besoins spÃ©ciaux",
assetDesc:"Description du bien",
assetValue:"Valeur estimÃ©e",
assetNotes:"BÃ©nÃ©ficiaire, numÃ©ros de compte",
beneficiaryName:"Nom du bÃ©nÃ©ficiaire",
beneficiaryRel:"Relation avec vous",
beneficiaryDetails:"Ce qu'ils hÃ©ritent (articles, pourcentages, conditions)",
digitalType:"Type (Email, RÃ©seaux Sociaux, Crypto, Cloud, etc.)",
digitalAccount:"Nom du compte ou identifiant",
digitalAccess:"Instructions d'accÃ¨s, emplacement des mots de passe",
insuranceType:"Type (Vie, SantÃ©, PropriÃ©tÃ©, VÃ©hicule, etc.)",
insuranceCompany:"Nom de la compagnie",
insurancePolicy:"NumÃ©ro de police et bÃ©nÃ©ficiaires",
insuranceNotes:"DÃ©tails de couverture, contact, montant de prime",
debtType:"Type (HypothÃ¨que, PrÃªt Auto, Carte de CrÃ©dit, etc.)",
debtAmount:"Montant dÃ»",
debtDetails:"Nom du crÃ©ancier, numÃ©ro de compte, instructions",
healthcareDirectives:"Testament de vie, DNR, don d'organes, procuration mÃ©dicale",
professionalType:"Type (Avocat, Comptable, Conseiller Financier, etc.)",
professionalName:"Nom et cabinet",
professionalContact:"TÃ©lÃ©phone, email, adresse, numÃ©ros de compte",
businessInterests:"DÃ©tails de propriÃ©tÃ© d'entreprise, accords, succession",
petName:"Nom de l'animal",
petType:"Type et race",
petCare:"Info vÃ©tÃ©rinaire, soignant prÃ©fÃ©rÃ©, instructions, fonds",
charityName:"Nom de l'organisme caritatif",
charityAmount:"Montant ou pourcentage Ã  donner",
charityNotes:"Objectif, contact, prÃ©fÃ©rences de don commÃ©moratif",
personalMessages:"Lettres aux proches, testament Ã©thique, valeurs",
funeralNotes:"Inhumation ou crÃ©mation, prÃ©fÃ©rences de service",
additionalNotes:"Autres informations importantes, combinaisons de coffre"
},
de:{
title:"Mein Nachlassplan",
subtitle:"PersÃ¶nlicher Nachlassplanungsdokument Â· Kein Rechtsdokument",
notice:"FÃ¼llen Sie Ihre Informationen aus. Verwenden Sie Export zum Speichern.",
personal:"PersÃ¶nliche Angaben",
executors:"Testamentsvollstrecker",
children:"Kinder / AngehÃ¶rige",
assets:"VermÃ¶gen und Eigentum",
funeral:"BestattungswÃ¼nsche",
additionalNotes:"ZusÃ¤tzliche Notizen",
addExecutor:"âž• Vollstrecker HinzufÃ¼gen",
addChild:"âž• Kind HinzufÃ¼gen",
addAsset:"âž• VermÃ¶gen HinzufÃ¼gen",
exportBtn:"ðŸ“¥ JSON Exportieren",
importBtn:"ðŸ“¤ JSON Importieren",
clearBtn:"ðŸ—‘ï¸ Alles LÃ¶schen",
name:"VollstÃ¤ndiger Name",
dob:"Geburtsdatum",
address:"VollstÃ¤ndige Adresse",
phone:"Telefonnummer",
email:"E-Mail-Adresse",
executorName:"Name des Vollstreckers",
executorRel:"Beziehung und Kontakt",
executorNotes:"Spezifische Anweisungen",
childName:"Name und Geburtsdatum des Kindes",
notes:"Vormund-PrÃ¤ferenzen, besondere BedÃ¼rfnisse",
assetDesc:"VermÃ¶gensbeschreibung",
assetValue:"GeschÃ¤tzter Wert",
assetNotes:"BegÃ¼nstigter, Kontonummern",
funeralNotes:"Beerdigung oder EinÃ¤scherung, Gottesdienst-WÃ¼nsche",
additionalNotes:"Medizinische VerfÃ¼gungen, PasswÃ¶rter, Tierpflege"
},
es:{
title:"Mi Plan Patrimonial",
subtitle:"Documento personal de planificaciÃ³n patrimonial Â· No es documento legal",
notice:"Complete su informaciÃ³n. Use Exportar para guardar una copia.",
personal:"InformaciÃ³n Personal",
executors:"Albaceas",
children:"Hijos / Dependientes",
assets:"Activos y Propiedades",
funeral:"Deseos Funerarios",
additionalNotes:"Notas Adicionales",
addExecutor:"âž• AÃ±adir Albacea",
addChild:"âž• AÃ±adir Hijo",
addAsset:"âž• AÃ±adir Activo",
exportBtn:"ðŸ“¥ Exportar JSON",
importBtn:"ðŸ“¤ Importar JSON",
clearBtn:"ðŸ—‘ï¸ Borrar Todo",
name:"Nombre legal completo",
dob:"Fecha de nacimiento",
address:"DirecciÃ³n completa",
phone:"TelÃ©fono",
email:"Correo electrÃ³nico",
executorName:"Nombre del albacea",
executorRel:"RelaciÃ³n y contacto",
executorNotes:"Instrucciones especÃ­ficas",
childName:"Nombre completo y fecha de nacimiento",
notes:"Preferencias de tutor, necesidades especiales",
assetDesc:"DescripciÃ³n del activo",
assetValue:"Valor estimado",
assetNotes:"Beneficiario, nÃºmeros de cuenta",
funeralNotes:"Entierro o cremaciÃ³n, preferencias de servicio",
additionalNotes:"Directivas mÃ©dicas, contraseÃ±as, cuidado de mascotas"
},
ja:{
title:"ç§ã®éºç”£è¨ˆç”»",
subtitle:"å€‹äººã®éºç”£è¨ˆç”»è¨˜éŒ² Â· æ³•çš„æ–‡æ›¸ã§ã¯ã‚ã‚Šã¾ã›ã‚“",
notice:"æƒ…å ±ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã§ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã‚’ä¿å­˜ã—ã¾ã™ã€‚",
personal:"å€‹äººæƒ…å ±",
executors:"éºè¨€åŸ·è¡Œè€…",
children:"å­ä¾›ãƒ»æ‰¶é¤Šå®¶æ—",
assets:"è³‡ç”£ãƒ»è²¡ç”£",
funeral:"è‘¬å„€ã®å¸Œæœ›",
additionalNotes:"è¿½åŠ ãƒ¡ãƒ¢",
addExecutor:"âž• åŸ·è¡Œè€…ã‚’è¿½åŠ ",
addChild:"âž• å­ä¾›ã‚’è¿½åŠ ",
addAsset:"âž• è³‡ç”£ã‚’è¿½åŠ ",
exportBtn:"ðŸ“¥ JSONå‡ºåŠ›",
importBtn:"ðŸ“¤ JSONå…¥åŠ›",
clearBtn:"ðŸ—‘ï¸ å…¨å‰Šé™¤",
name:"æ­£å¼æ°å",
dob:"ç”Ÿå¹´æœˆæ—¥",
address:"ä½æ‰€",
phone:"é›»è©±ç•ªå·",
email:"ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹",
executorName:"åŸ·è¡Œè€…æ°å",
executorRel:"ç¶šæŸ„ãƒ»é€£çµ¡å…ˆ",
executorNotes:"å…·ä½“çš„ãªæŒ‡ç¤º",
childName:"å­ä¾›ã®æ°åã¨ç”Ÿå¹´æœˆæ—¥",
notes:"å¾Œè¦‹äººã®å¸Œæœ›ã€ç‰¹åˆ¥ãªé…æ…®äº‹é …",
assetDesc:"è³‡ç”£ã®èª¬æ˜Ž",
assetValue:"æŽ¨å®šä¾¡å€¤",
assetNotes:"å—å–äººã€å£åº§ç•ªå·",
funeralNotes:"åŸ‹è‘¬ã¾ãŸã¯ç«è‘¬ã€è‘¬å„€ã®å¸Œæœ›",
additionalNotes:"åŒ»ç™‚æŒ‡ç¤ºã€ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã€ãƒšãƒƒãƒˆã®ä¸–è©±"
},
zh:{
title:"æˆ‘çš„é—äº§è§„åˆ’",
subtitle:"ä¸ªäººé—äº§è§„åˆ’è®°å½• Â· éžæ³•å¾‹æ–‡ä»¶",
notice:"å¡«å†™æ‚¨çš„ä¿¡æ¯ã€‚ä½¿ç”¨å¯¼å‡ºæ¥ä¿å­˜å¤‡ä»½æ–‡ä»¶ã€‚",
personal:"ä¸ªäººä¿¡æ¯",
executors:"é—å˜±æ‰§è¡Œäºº",
children:"å­å¥³/å—æŠšå…»äºº",
assets:"èµ„äº§ä¸Žè´¢äº§",
funeral:"è‘¬ç¤¼æ„æ„¿",
additionalNotes:"é™„åŠ è¯´æ˜Ž",
addExecutor:"âž• æ·»åŠ æ‰§è¡Œäºº",
addChild:"âž• æ·»åŠ å­å¥³",
addAsset:"âž• æ·»åŠ èµ„äº§",
exportBtn:"ðŸ“¥ å¯¼å‡ºJSON",
importBtn:"ðŸ“¤ å¯¼å…¥JSON",
clearBtn:"ðŸ—‘ï¸ æ¸…é™¤å…¨éƒ¨",
name:"æ³•å®šå…¨å",
dob:"å‡ºç”Ÿæ—¥æœŸ",
address:"å®Œæ•´åœ°å€",
phone:"ç”µè¯å·ç ",
email:"ç”µå­é‚®ç®±",
executorName:"æ‰§è¡Œäººå§“å",
executorRel:"å…³ç³»ä¸Žè”ç³»æ–¹å¼",
executorNotes:"å…·ä½“æŒ‡ç¤º",
childName:"å­å¥³å§“åä¸Žå‡ºç”Ÿæ—¥æœŸ",
notes:"ç›‘æŠ¤äººåå¥½ã€ç‰¹æ®Šéœ€æ±‚",
assetDesc:"èµ„äº§æè¿°",
assetValue:"ä¼°è®¡ä»·å€¼",
assetNotes:"å—ç›Šäººã€è´¦å·",
funeralNotes:"åœŸè‘¬æˆ–ç«åŒ–ã€ä»ªå¼åå¥½",
additionalNotes:"åŒ»ç–—æŒ‡ç¤ºã€å¯†ç ã€å® ç‰©ç…§æ–™"
},
ko:{
title:"ë‚˜ì˜ ìƒì† ê³„íš",
subtitle:"ê°œì¸ ìƒì† ê³„íš ê¸°ë¡ Â· ë²•ì  ë¬¸ì„œ ì•„ë‹˜",
notice:"ì •ë³´ë¥¼ ìž…ë ¥í•˜ì„¸ìš”. ë‚´ë³´ë‚´ê¸°ë¡œ ë°±ì—… íŒŒì¼ì„ ì €ìž¥í•©ë‹ˆë‹¤.",
personal:"ê°œì¸ ì •ë³´",
executors:"ìœ ì–¸ ì§‘í–‰ìž",
children:"ìžë…€/ë¶€ì–‘ê°€ì¡±",
assets:"ìžì‚° ë° ìž¬ì‚°",
funeral:"ìž¥ë¡€ í¬ë§ì‚¬í•­",
additionalNotes:"ì¶”ê°€ ë©”ëª¨",
addExecutor:"âž• ì§‘í–‰ìž ì¶”ê°€",
addChild:"âž• ìžë…€ ì¶”ê°€",
addAsset:"âž• ìžì‚° ì¶”ê°€",
exportBtn:"ðŸ“¥ JSON ë‚´ë³´ë‚´ê¸°",
importBtn:"ðŸ“¤ JSON ê°€ì ¸ì˜¤ê¸°",
clearBtn:"ðŸ—‘ï¸ ëª¨ë‘ ì§€ìš°ê¸°",
name:"ë²•ì  ì„±ëª…",
dob:"ìƒë…„ì›”ì¼",
address:"ì „ì²´ ì£¼ì†Œ",
phone:"ì „í™”ë²ˆí˜¸",
email:"ì´ë©”ì¼ ì£¼ì†Œ",
executorName:"ì§‘í–‰ìž ì´ë¦„",
executorRel:"ê´€ê³„ ë° ì—°ë½ì²˜",
executorNotes:"êµ¬ì²´ì ì¸ ì§€ì‹œì‚¬í•­",
childName:"ìžë…€ ì´ë¦„ ë° ìƒë…„ì›”ì¼",
notes:"í›„ê²¬ì¸ ì„ í˜¸, íŠ¹ë³„ ìš”êµ¬ì‚¬í•­",
assetDesc:"ìžì‚° ì„¤ëª…",
assetValue:"ì¶”ì • ê°€ì¹˜",
assetNotes:"ìˆ˜í˜œìž, ê³„ì¢Œë²ˆí˜¸",
funeralNotes:"ë§¤ìž¥ ë˜ëŠ” í™”ìž¥, ìž¥ë¡€ì‹ ì„ í˜¸",
additionalNotes:"ì˜ë£Œ ì§€ì‹œ, ë¹„ë°€ë²ˆí˜¸, ë°˜ë ¤ë™ë¬¼ ëŒë´„"
},
hi:{
title:"à¤®à¥‡à¤°à¥€ à¤à¤¸à¥à¤Ÿà¥‡à¤Ÿ à¤¯à¥‹à¤œà¤¨à¤¾",
subtitle:"à¤µà¥à¤¯à¤•à¥à¤¤à¤¿à¤—à¤¤ à¤¸à¤‚à¤ªà¤¤à¥à¤¤à¤¿ à¤¯à¥‹à¤œà¤¨à¤¾ à¤°à¤¿à¤•à¥‰à¤°à¥à¤¡ Â· à¤•à¤¾à¤¨à¥‚à¤¨à¥€ à¤¦à¤¸à¥à¤¤à¤¾à¤µà¥‡à¤œà¤¼ à¤¨à¤¹à¥€à¤‚",
notice:"à¤…à¤ªà¤¨à¥€ à¤œà¤¾à¤¨à¤•à¤¾à¤°à¥€ à¤­à¤°à¥‡à¤‚à¥¤ à¤¬à¥ˆà¤•à¤…à¤ª à¤•à¥‡ à¤²à¤¿à¤ à¤¨à¤¿à¤°à¥à¤¯à¤¾à¤¤ à¤•à¤¾ à¤‰à¤ªà¤¯à¥‹à¤— à¤•à¤°à¥‡à¤‚à¥¤",
personal:"à¤µà¥à¤¯à¤•à¥à¤¤à¤¿à¤—à¤¤ à¤œà¤¾à¤¨à¤•à¤¾à¤°à¥€",
executors:"à¤¨à¤¿à¤·à¥à¤ªà¤¾à¤¦à¤•",
children:"à¤¬à¤šà¥à¤šà¥‡/à¤†à¤¶à¥à¤°à¤¿à¤¤",
assets:"à¤¸à¤‚à¤ªà¤¤à¥à¤¤à¤¿à¤¯à¤¾à¤ à¤”à¤° à¤¸à¤®à¥à¤ªà¤¦à¤¾",
funeral:"à¤…à¤‚à¤¤à¤¿à¤® à¤¸à¤‚à¤¸à¥à¤•à¤¾à¤° à¤‡à¤šà¥à¤›à¤¾à¤à¤",
additionalNotes:"à¤…à¤¤à¤¿à¤°à¤¿à¤•à¥à¤¤ à¤¨à¥‹à¤Ÿà¥à¤¸",
addExecutor:"âž• à¤¨à¤¿à¤·à¥à¤ªà¤¾à¤¦à¤• à¤œà¥‹à¤¡à¤¼à¥‡à¤‚",
addChild:"âž• à¤¬à¤šà¥à¤šà¤¾ à¤œà¥‹à¤¡à¤¼à¥‡à¤‚",
addAsset:"âž• à¤¸à¤‚à¤ªà¤¤à¥à¤¤à¤¿ à¤œà¥‹à¤¡à¤¼à¥‡à¤‚",
exportBtn:"ðŸ“¥ JSON à¤¨à¤¿à¤°à¥à¤¯à¤¾à¤¤",
importBtn:"ðŸ“¤ JSON à¤†à¤¯à¤¾à¤¤",
clearBtn:"ðŸ—‘ï¸ à¤¸à¤¬ à¤®à¤¿à¤Ÿà¤¾à¤à¤‚",
name:"à¤ªà¥‚à¤°à¤¾ à¤•à¤¾à¤¨à¥‚à¤¨à¥€ à¤¨à¤¾à¤®",
dob:"à¤œà¤¨à¥à¤® à¤¤à¤¿à¤¥à¤¿",
address:"à¤ªà¥‚à¤°à¤¾ à¤ªà¤¤à¤¾",
phone:"à¤«à¤¼à¥‹à¤¨ à¤¨à¤‚à¤¬à¤°",
email:"à¤ˆà¤®à¥‡à¤² à¤ªà¤¤à¤¾",
executorName:"à¤¨à¤¿à¤·à¥à¤ªà¤¾à¤¦à¤• à¤•à¤¾ à¤¨à¤¾à¤®",
executorRel:"à¤¸à¤‚à¤¬à¤‚à¤§ à¤”à¤° à¤¸à¤‚à¤ªà¤°à¥à¤•",
executorNotes:"à¤µà¤¿à¤¶à¤¿à¤·à¥à¤Ÿ à¤¨à¤¿à¤°à¥à¤¦à¥‡à¤¶",
childName:"à¤¬à¤šà¥à¤šà¥‡ à¤•à¤¾ à¤¨à¤¾à¤® à¤”à¤° à¤œà¤¨à¥à¤® à¤¤à¤¿à¤¥à¤¿",
notes:"à¤…à¤­à¤¿à¤­à¤¾à¤µà¤• à¤µà¤°à¥€à¤¯à¤¤à¤¾, à¤µà¤¿à¤¶à¥‡à¤· à¤†à¤µà¤¶à¥à¤¯à¤•à¤¤à¤¾à¤à¤‚",
assetDesc:"à¤¸à¤‚à¤ªà¤¤à¥à¤¤à¤¿ à¤µà¤¿à¤µà¤°à¤£",
assetValue:"à¤…à¤¨à¥à¤®à¤¾à¤¨à¤¿à¤¤ à¤®à¥‚à¤²à¥à¤¯",
assetNotes:"à¤²à¤¾à¤­à¤¾à¤°à¥à¤¥à¥€, à¤–à¤¾à¤¤à¤¾ à¤¸à¤‚à¤–à¥à¤¯à¤¾",
funeralNotes:"à¤¦à¤«à¤¨ à¤¯à¤¾ à¤¦à¤¾à¤¹ à¤¸à¤‚à¤¸à¥à¤•à¤¾à¤°, à¤¸à¥‡à¤µà¤¾ à¤µà¤°à¥€à¤¯à¤¤à¤¾à¤à¤",
additionalNotes:"à¤šà¤¿à¤•à¤¿à¤¤à¥à¤¸à¤¾ à¤¨à¤¿à¤°à¥à¤¦à¥‡à¤¶, à¤ªà¤¾à¤¸à¤µà¤°à¥à¤¡, à¤ªà¤¾à¤²à¤¤à¥‚ à¤œà¤¾à¤¨à¤µà¤°à¥‹à¤‚ à¤•à¥€ à¤¦à¥‡à¤–à¤­à¤¾à¤²"
}
};

/* ---------- CORE ENGINE ---------- */
let currentLang="en";

function applyLanguage(lang){
  currentLang = T[lang] ? lang : "en";
  language.value = currentLang;

  document.querySelectorAll("[data-t]").forEach(el=>{
    const k=el.dataset.t;
    el.textContent = T[currentLang][k] || T.en[k] || "";
  });

  document.querySelectorAll("[data-ph]").forEach(el=>{
    const k=el.dataset.ph;
    el.placeholder = T[currentLang][k] || T.en[k] || "";
  });
}

/* ---------- COUNTRY AUTO ---------- */
const countryLang={
"Canada":"en","United States":"en","France":"fr","Germany":"de",
"Spain":"es","Japan":"ja","China":"zh","South Korea":"ko","India":"hi"
};

country.onchange=()=>applyLanguage(countryLang[country.value]||"en");
language.onchange=()=>applyLanguage(language.value);

/* ---------- ROWS ---------- */
function addRow(id){
  const c=document.getElementById(id);
  const row=c.querySelector(".repeat").cloneNode(true);
  row.querySelectorAll("input,textarea").forEach(i=>i.value="");
  c.insertBefore(row,c.lastElementChild);
  applyLanguage(currentLang);
}

/* ---------- UI ---------- */
function toggle(h){h.parentElement.classList.toggle("open")}
function openAll(){document.querySelectorAll("section").forEach(s=>s.classList.add("open"))}
function closeAll(){document.querySelectorAll("section").forEach(s=>s.classList.remove("open"))}

/* ---------- INIT ---------- */
applyLanguage("en");

/* ---------- DATA EXPORT/IMPORT ---------- */
function exportData() {
  try {
    // Collect current form data directly
    const data = {
      country: country.value,
      language: language.value,
      exportDate: new Date().toISOString(),
      fields: {}
    };
    
    document.querySelectorAll('input:not([type="file"]):not([disabled]), textarea').forEach(el => {
      if (el.value) {
        const section = el.closest('section');
        const id = section ? section.querySelector('.section-header')?.dataset.t : 'misc';
        if (!data.fields[id]) data.fields[id] = [];
        data.fields[id].push({
          placeholder: el.dataset.ph || el.placeholder,
          value: el.value
        });
      }
    });
    
    // Check if there's any data
    if (Object.keys(data.fields).length === 0) {
      alert('No data to export. Please fill in at least one field first.');
      return;
    }
    
    // Create JSON string
    const jsonString = JSON.stringify(data, null, 2);
    
    // Create blob and download
    const blob = new Blob([jsonString], { type: 'application/json' });
    const url = URL.createObjectURL(blob);
    
    const timestamp = new Date().toISOString().split('T')[0];
    const filename = `estate-plan-${timestamp}.json`;
    
    const a = document.createElement('a');
    a.style.display = 'none';
    a.href = url;
    a.download = filename;
    
    document.body.appendChild(a);
    a.click();
    
    setTimeout(() => {
      document.body.removeChild(a);
      URL.revokeObjectURL(url);
    }, 500);
    
    alert('âœ“ Export successful! Check your downloads folder for: ' + filename);
    
  } catch (err) {
    console.error('Export error:', err);
    alert('Export failed: ' + err.message);
  }
}

function handleImport(event) {
  const file = event.target.files[0];
  if (!file) return;
  
  const reader = new FileReader();
  reader.onload = (e) => {
    try {
      const content = e.target.result;
      const data = JSON.parse(content);
      
      // Set country and language
      if (data.country) country.value = data.country;
      if (data.language) applyLanguage(data.language);
      
      // Clear all existing inputs first
      document.querySelectorAll('input:not([type="file"]):not([disabled]), textarea').forEach(el => {
        el.value = '';
      });
      
      // Load data into sections
      if (data.fields) {
        Object.keys(data.fields).forEach(sectionKey => {
          const section = document.querySelector(`[data-t="${sectionKey}"]`)?.parentElement;
          if (!section) return;
          
          const container = section.querySelector('.section-content');
          const items = data.fields[sectionKey];
          
          items.forEach((item, idx) => {
            let input = container.querySelectorAll(`[data-ph="${item.placeholder}"]`)[idx];
            if (!input && idx > 0) {
              const containerId = container.id;
              if (containerId) addRow(containerId);
              input = container.querySelectorAll(`[data-ph="${item.placeholder}"]`)[idx];
            }
            if (input) input.value = item.value;
          });
        });
      }
      
      alert('âœ“ Import successful! Your estate plan has been loaded.');
      
    } catch (err) {
      console.error('Import error:', err);
      alert('Import failed: Invalid JSON file. Please select a valid estate plan export.');
    }
  };
  
  reader.onerror = () => {
    alert('Failed to read file');
  };
  
  reader.readAsText(file);
  event.target.value = '';
}

function clearData() {
  if (confirm('âš ï¸ WARNING: This will permanently delete all your entered data.\n\nAre you absolutely sure you want to clear everything?\n\nConsider exporting a backup first!')) {
    document.querySelectorAll('input:not([type="file"]):not([disabled]), textarea').forEach(el => {
      el.value = '';
    });
    alert('All data cleared.');
  }
}
</script>

</body>
</html>
