<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>My Estate Plan</title>

<style>
:root{
  --jam-dark:#2b1417;
  --jam-mid:#4a1f26;
  --paper:#ffffff;
  --border:#d2d6da;
  --heading:#2f4f4f;
  --muted:#6b7280;
}

body{
  margin:0;
  font-family:"Times New Roman", Georgia, serif;
  font-size:18px;
  line-height:1.65;
  background:radial-gradient(circle at top, var(--jam-mid), var(--jam-dark));
  color:#1f2933;
}

.container{
  max-width:1150px;
  margin:50px auto;
  padding:48px 36px 140px;
  background:var(--paper);
  border-radius:18px;
  box-shadow:0 22px 50px rgba(0,0,0,0.35);
}

h1{
  text-align:center;
  font-size:36px;
  color:var(--heading);
  margin:0;
}

.subtitle{
  text-align:center;
  color:var(--muted);
  margin-top:10px;
}

.toolbar{
  display:flex;
  justify-content:center;
  gap:12px;
  flex-wrap:wrap;
  margin:28px 0;
}

select, button{
  padding:12px 18px;
  font-size:16px;
  font-family:inherit;
  border-radius:8px;
  border:1px solid var(--border);
  background:#f9fafb;
}

button{ cursor:pointer; }

section{
  border:1px solid var(--border);
  border-radius:12px;
  margin-bottom:26px;
}

.section-header{
  padding:20px 24px;
  border-bottom:1px solid var(--border);
}
.section-header h2{
  margin:0;
  font-size:24px;
  color:var(--heading);
}

.section-content{
  padding:24px;
}

input, textarea{
  width:100%;
  padding:16px;
  margin-bottom:18px;
  border-radius:10px;
  border:1px solid var(--border);
  background:#fafafa;
  font-size:18px;
  font-family:inherit;
}

textarea.large{ min-height:420px; }
textarea.medium{ min-height:260px; }

/* PRINT */
.print-only{ display:none; }
@media print{
  body{ background:#fff; }
  .container{ display:none; }
  .print-only{ display:block; }
  footer{
    position:fixed;
    bottom:10mm;
    width:100%;
    text-align:center;
    font-size:12px;
  }
  footer::after{ content:"Page " counter(page); }
}
</style>
</head>

<body>

<!-- PRINT COVER -->
<div class="print-only">
  <div style="margin-top:100px;text-align:center;">
    <h1 id="printTitle">My Estate Plan</h1>
    <p><b id="printPrepared">Prepared for:</b> <span id="printName">—</span></p>
    <p><b id="printCountryLabel">Country:</b> <span id="printCountry">—</span></p>
    <p><b id="printDateLabel">Date:</b> <span id="printDate">—</span></p>
  </div>
</div>

<footer class="print-only"></footer>

<div class="container" id="app">

<h1 id="title">My Estate Plan</h1>
<p class="subtitle" id="subtitle">Personal estate planning record · Not a legal document</p>

<div class="toolbar">
  <!-- LANGUAGE -->
  <select id="language">
    <option value="en">English</option>
    <option value="fr">Français</option>
    <option value="es">Español</option>
    <option value="de">Deutsch</option>
    <option value="it">Italiano</option>
    <option value="pt">Português</option>
    <option value="nl">Nederlands</option>
    <option value="pl">Polski</option>
    <option value="cs">Čeština</option>
    <option value="sk">Slovenčina</option>
    <option value="hu">Magyar</option>
    <option value="ro">Română</option>
    <option value="bg">Български</option>
    <option value="ru">Русский</option>
    <option value="uk">Українська</option>
  </select>

  <!-- COUNTRY -->
  <select data-key="country">
    <option value="">Select country</option>
    <option>Canada</option>
    <option>United States</option>
    <option>United Kingdom</option>
    <option>France</option>
    <option>Germany</option>
    <option>Italy</option>
    <option>Spain</option>
    <option>Portugal</option>
    <option>Netherlands</option>
    <option>Poland</option>
    <option>Czech Republic</option>
    <option>Slovakia</option>
    <option>Hungary</option>
    <option>Romania</option>
    <option>Bulgaria</option>
    <option>Ukraine</option>
    <option>Russia</option>
    <option>Other</option>
  </select>

  <button onclick="window.print()" id="btnPrint">Print / Save PDF</button>
  <button onclick="exportWord()" id="btnWord">Export Word</button>
</div>

<section>
  <div class="section-header"><h2 data-i18n="personal">Personal Information</h2></div>
  <div class="section-content">
    <input data-key="name" placeholder="Full legal name">
    <input data-key="dob" placeholder="Date of birth">
    <input data-key="address" placeholder="Address">
  </div>
</section>

<section>
  <div class="section-header"><h2 data-i18n="executor">Executor</h2></div>
  <div class="section-content">
    <input data-key="executor" placeholder="Executor name">
    <textarea class="medium" data-key="executor_notes" placeholder="Executor instructions"></textarea>
  </div>
</section>

<section>
  <div class="section-header"><h2 data-i18n="assets">Assets</h2></div>
  <div class="section-content">
    <textarea class="large" data-key="assets" placeholder="Assets and property"></textarea>
  </div>
</section>

<section>
  <div class="section-header"><h2 data-i18n="final">Final Wishes</h2></div>
  <div class="section-content">
    <textarea class="large" data-key="final_wishes" placeholder="Final wishes"></textarea>
  </div>
</section>

<section>
  <div class="section-header"><h2 data-i18n="notes">Additional Notes</h2></div>
  <div class="section-content">
    <textarea class="large" data-key="notes" placeholder="Additional notes"></textarea>
  </div>
</section>

</div>

<script>
const STORE="estate_plan_auto_lang_v1";
const fields=[...document.querySelectorAll("[data-key]")];
let languageManuallySet=false;

/* SAVE / LOAD */
function save(){
  const d={};
  fields.forEach(f=>d[f.dataset.key]=f.value||"");
  d.language=document.getElementById("language").value;
  d.languageManual=languageManuallySet;
  localStorage.setItem(STORE,JSON.stringify(d));
}
function load(){
  const raw=localStorage.getItem(STORE);
  if(!raw) return;
  const d=JSON.parse(raw);
  fields.forEach(f=>f.value=d[f.dataset.key]||"");
  if(d.language){
    document.getElementById("language").value=d.language;
    applyLanguage(d.language);
  }
  languageManuallySet=d.languageManual||false;
}
fields.forEach(f=>f.addEventListener("input",save));
load();

/* TRANSLATIONS */
const translations={
  en:{title:"My Estate Plan",subtitle:"Personal estate planning record · Not a legal document",personal:"Personal Information",executor:"Executor",assets:"Assets",final:"Final Wishes",notes:"Additional Notes",print:"Print / Save PDF",word:"Export Word",prepared:"Prepared for:",country:"Country:",date:"Date:"},
  fr:{title:"Mon plan successoral",subtitle:"Dossier personnel · Document non juridique",personal:"Renseignements personnels",executor:"Liquidateur",assets:"Biens",final:"Dernières volontés",notes:"Notes supplémentaires",print:"Imprimer / PDF",word:"Exporter Word",prepared:"Préparé pour :",country:"Pays :",date:"Date :"},
  es:{title:"Mi plan patrimonial",subtitle:"Registro personal · No es un documento legal",personal:"Información personal",executor:"Albacea",assets:"Activos",final:"Últimos deseos",notes:"Notas adicionales",print:"Imprimir / PDF",word:"Exportar Word",prepared:"Preparado para:",country:"País:",date:"Fecha:"},
  de:{title:"Mein Nachlassplan",subtitle:"Persönliches Dokument · Kein Rechtsdokument",personal:"Persönliche Angaben",executor:"Testamentsvollstrecker",assets:"Vermögen",final:"Letzte Wünsche",notes:"Zusätzliche Notizen",print:"Drucken / PDF",word:"Word exportieren",prepared:"Vorbereitet für:",country:"Land:",date:"Datum:"},
  it:{title:"Il mio piano patrimoniale",subtitle:"Documento personale · Non è un atto legale",personal:"Informazioni personali",executor:"Esecutore",assets:"Beni",final:"Ultime volontà",notes:"Note aggiuntive",print:"Stampa / PDF",word:"Esporta Word",prepared:"Preparato per:",country:"Paese:",date:"Data:"},
  pt:{title:"Meu plano patrimonial",subtitle:"Registro pessoal · Não é um documento legal",personal:"Informações pessoais",executor:"Testamenteiro",assets:"Bens",final:"Últimos desejos",notes:"Notas adicionais",print:"Imprimir / PDF",word:"Exportar Word",prepared:"Preparado para:",country:"País:",date:"Data:"},
  nl:{title:"Mijn nalatenschapsplan",subtitle:"Persoonlijk document · Geen juridisch document",personal:"Persoonlijke gegevens",executor:"Executeur",assets:"Bezittingen",final:"Laatste wensen",notes:"Aanvullende notities",print:"Afdrukken / PDF",word:"Word exporteren",prepared:"Voorbereid voor:",country:"Land:",date:"Datum:"},
  pl:{title:"Mój plan spadkowy",subtitle:"Dokument osobisty · Nie jest dokumentem prawnym",personal:"Dane osobowe",executor:"Wykonawca testamentu",assets:"Aktywa",final:"Ostatnie życzenia",notes:"Dodatkowe notatki",print:"Drukuj / PDF",word:"Eksportuj Word",prepared:"Przygotowano dla:",country:"Kraj:",date:"Data:"},
  cs:{title:"Můj majetkový plán",subtitle:"Osobní dokument · Není právní dokument",personal:"Osobní údaje",executor:"Správce pozůstalosti",assets:"Majetek",final:"Poslední přání",notes:"Další poznámky",print:"Tisk / PDF",word:"Export Word",prepared:"Připraveno pro:",country:"Země:",date:"Datum:"},
  sk:{title:"Môj majetkový plán",subtitle:"Osobný dokument · Nie je právny dokument",personal:"Osobné údaje",executor:"Správca dedičstva",assets:"Majetok",final:"Posledné želania",notes:"Ďalšie poznámky",print:"Tlačiť / PDF",word:"Export Word",prepared:"Pripravené pre:",country:"Krajina:",date:"Dátum:"},
  hu:{title:"Hagyatéki tervem",subtitle:"Személyes dokumentum · Nem jogi dokumentum",personal:"Személyes adatok",executor:"Hagyatéki végrehajtó",assets:"Vagyon",final:"Végső kívánságok",notes:"További megjegyzések",print:"Nyomtatás / PDF",word:"Word exportálása",prepared:"Készítve:",country:"Ország:",date:"Dátum:"},
  ro:{title:"Planul meu succesoral",subtitle:"Document personal · Nu este document juridic",personal:"Informații personale",executor:"Executor testamentar",assets:"Active",final:"Dorinte finale",notes:"Note suplimentare",print:"Tipărire / PDF",word:"Export Word",prepared:"Pregătit pentru:",country:"Țară:",date:"Data:"},
  bg:{title:"Моят наследствен план",subtitle:"Личен документ · Не е правен документ",personal:"Лични данни",executor:"Изпълнител",assets:"Активи",final:"Последни желания",notes:"Допълнителни бележки",print:"Печат / PDF",word:"Експорт Word",prepared:"Подготвено за:",country:"Държава:",date:"Дата:"},
  ru:{title:"Мой план наследства",subtitle:"Личный документ · Не является юридическим",personal:"Личные данные",executor:"Исполнитель завещания",assets:"Активы",final:"Последние пожелания",notes:"Дополнительные заметки",print:"Печать / PDF",word:"Экспорт Word",prepared:"Подготовлено для:",country:"Страна:",date:"Дата:"},
  uk:{title:"Мій спадковий план",subtitle:"Особистий документ · Не є юридичним",personal:"Особисті дані",executor:"Виконавець заповіту",assets:"Активи",final:"Останні побажання",notes:"Додаткові нотатки",print:"Друк / PDF",word:"Експорт Word",prepared:"Підготовлено для:",country:"Країна:",date:"Дата:"}
};

function applyLanguage(lang){
  const t=translations[lang];
  document.getElementById("title").textContent=t.title;
  document.getElementById("subtitle").textContent=t.subtitle;
  document.getElementById("btnPrint").textContent=t.print;
  document.getElementById("btnWord").textContent=t.word;
  document.getElementById("printTitle").textContent=t.title;
  document.getElementById("printPrepared").textContent=t.prepared;
  document.getElementById("printCountryLabel").textContent=t.country;
  document.getElementById("printDateLabel").textContent=t.date;
  document.querySelectorAll("[data-i18n]").forEach(el=>{
    el.textContent=t[el.dataset.i18n];
  });
}

/* AUTO LANGUAGE BY COUNTRY */
const countryLanguageMap={
  "Canada":"en","United States":"en","United Kingdom":"en",
  "France":"fr","Germany":"de","Italy":"it","Spain":"es",
  "Portugal":"pt","Netherlands":"nl","Poland":"pl",
  "Czech Republic":"cs","Slovakia":"sk","Hungary":"hu",
  "Romania":"ro","Bulgaria":"bg","Ukraine":"uk","Russia":"ru"
};

document.querySelector('[data-key="country"]').addEventListener("change",e=>{
  if(languageManuallySet) return;
  const autoLang=countryLanguageMap[e.target.value];
  if(autoLang){
    document.getElementById("language").value=autoLang;
    applyLanguage(autoLang);
    save();
  }
});

/* LANGUAGE MANUAL */
document.getElementById("language").addEventListener("change",()=>{
  languageManuallySet=true;
  applyLanguage(language.value);
  save();
});

/* PRINT */
window.addEventListener("beforeprint",()=>{
  document.getElementById("printName").textContent=document.querySelector('[data-key="name"]').value||"—";
  document.getElementById("printCountry").textContent=document.querySelector('[data-key="country"]').value||"—";
  document.getElementById("printDate").textContent=new Date().toLocaleDateString();
});

/* WORD EXPORT */
function exportWord(){
  const clone=document.getElementById("app").cloneNode(true);
  clone.querySelectorAll("input,textarea,select").forEach(el=>{
    const d=document.createElement("div");
    d.textContent=el.value||"—";
    d.style.whiteSpace="pre-wrap";
    el.replaceWith(d);
  });
  const html=`<html><body>${clone.outerHTML}</body></html>`;
  const blob=new Blob(['\ufeff',html],{type:"application/msword"});
  const a=document.createElement("a");
  a.href=URL.createObjectURL(blob);
  a.download="My_Estate_Plan.doc";
  a.click();
}
</script>

</body>
</html>
